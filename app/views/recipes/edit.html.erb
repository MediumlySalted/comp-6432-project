
<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-body">
  <div class="container-fluid">
  <!-- Home Button -->
    <%= link_to "Home", home_path, class: "navbar-brand ms-3 me-3"%>
  <!-- Collapsable -->
    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
    <!-- Navigation Buttons -->
      <ul class="navbar-nav ms-3 me-auto">
        <li class="nav-item ms-1 me-1"><%= link_to "Food", home_path, class: "nav-btn" %></li>
        <li class="nav-item ms-1 me-1"><%= link_to "Cocktails", recipes_path, class: "nav-btn" %></li>
      </ul>
  <!-- Sign in/out -->
    <ul class="navbar-nav me-4">
    <% if user_signed_in? %>
      <li class="nav-item"><%= link_to "Profile", user_path(@user), class: "nav-link #{active_class(edit_user_registration_path)} btn btn-link" %></li>
      <li class="nav-item"><%= button_to 'Sign Out', destroy_user_session_path, method: :delete, data: { turbo: false }, class: 'nav-link btn btn-link' %></li>
    <% else %>
      <li class="nav-item"><%= link_to 'Sign In', new_user_session_path, class: "nav-link #{active_class(new_user_session_path)} btn btn-link" %></li>
      <li class="nav-item"><%= link_to 'Sign Up', new_user_registration_path, class: "nav-link #{active_class(new_user_registration_path)} btn btn-link" %></li>
    <% end %>
    </ul>
  </div>
</nav>

<br>

<!-- Form -->
<div class="container">
  <h1>Edit Recipe</h1>
  <P><%= @recipe.recipe_type %></P>
  <%= form_with model: @recipe, url: recipe_path, method: :patch do |form| %>

    <div class="mb-3">
      <%= form.label :name, class: "form-label" %>
      <%= form.text_field :name, class: "form-control" %>
    </div>


    <div class="row row-cols-auto mb-3" style="max-height: 200px; overflow-y: auto;">
      <%= form.label :tag_ids, "Tags" %>
      <div class="form-check">
        <%= form.collection_check_boxes(:tag_ids, @tags, :id, :name) do |box| %>
          <div class="col-3 form-check form-check-inline">
            <%= box.check_box(class: "form-check-input") %>
            <%= box.label(class: "form-check-label") %>
          </div>
        <% end %>
      </div>
    </div>


    <div class="mb-3">
      <%= label_tag :ingredients, "Ingredients (one per line)", class: "form-label" %>
      <%= text_area_tag "recipe[ingredients]", @recipe.ingredients&.join("\n"), class: "form-control", rows: 5 %>
    </div>

    <div class="mb-3">
      <%= form.label :directions, "Directions", class: "form-label" %>
      <%= form.text_area :directions, class: "form-control", rows: 6 %>
    </div>

    <div class="d-flex justify-content-between align-items-center mt-4">
      <%= form.submit "Update Recipe", class: "btn btn-primary" %>
  <% end %>
      <%= button_to "Delete Recipe", @recipe, method: :delete, data: { confirm: "Are you sure you want to delete this recipe?" }, class: "btn btn-danger" %>
    </div>
</div>
