
<nav class="navbar navbar-expand-lg bg-body">
  <div class="container-fluid">
    <%= link_to "Home", home_path, class: "navbar-brand ms-3 me-4"%>
    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-5">
        <li class="nav-item me-2"><%= link_to "Food", food_path, class: "btn-nav" %></li>
        <li class="nav-item"><%= link_to "Cocktails", cocktails_path, class: "btn-nav" %></li>
      </ul>
      <ul class="navbar-nav me-auto">
      <% if @tags %>
      <span class="navbar-text me-2">Filtering by: </span>
        <% @tags.each do | tag | %>
          <li class="nav-item align-content-center"><%= link_to "#{tag.name}", "#{recipes_path(toggle_tag_in_params(tag.id))}", class: "btn-filter", style: "background-color: #{tag.color}; border-color: #{tag.color}" %></li>
        <% end %>
      <% end %>
      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success">Search</button>
      </form>
    </div>
  </div>
</nav>

<br>

<div class="container">
  <div class="row row-cols-auto justify-content-center">
  <% @recipes.each do | recipe | %>
    <div class="col mb-4">
      <div class="card shadow p-4 bg-body rounded h-100 w-100">
        <div class="card-body">
          <h2 class="card-title" style="margin-bottom: .25rem;"><%= recipe.name %></h2>
          <div>
            <% recipe.tags.each do | tag | %>
              <%= link_to "#{tag.name}", "#{recipes_path(toggle_tag_in_params(tag.id))}", class: "btn-tag", style: "background-color: #{tag.color}; border-color: #{tag.color}" %>
            <% end %>
          </div>
          <h5 class="card-text">Ingredients</h5>
          <ul>
            <% recipe.ingredients.each do | ingredient | %>
              <li><p class="card-text"><%= ingredient %></p></li>
            <% end %>
          </ul>
          <h5 class="card-text">Directions</h5>
          <div>
            <% directions = recipe.directions.split("\n") %>
            <% directions.each do | direction | %>
              <p class="card-text" style="margin: 0; padding: 0;"><%= direction %></p>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
  </div>
</div>
